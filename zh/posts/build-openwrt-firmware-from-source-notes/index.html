<!DOCTYPE html>
<html lang="zh"><meta charset="utf-8"><meta name="generator" content="Hugo 0.154.5"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><meta name="description" content="å‰è¨€

æœ€è¿‘å­¦æ ¡çš„ç§»åŠ¨å®½å¸¦è¿è¥å•†å¼€å§‹æäº‹æƒ…ï¼Œææµé‡åŠ«æŒï¼Œä¸‹è½½æŠ•æ¯’ï¼Œæ­¥å…¥ç”µä¿¡è”é€šä¹‹æµã€‚è¿™ä¸ªå­¦æœŸä¹Ÿä¸èƒ½å¤šæ‹¨äº†ï¼Œä¼šè¢«ç³»ç»Ÿæ£€æµ‹åˆ°ï¼Œå°åœåŠä¸ªå°æ—¶ã€‚
å»å¹´å¤å¤©ä¹”æ²»å­¦é•¿é€æˆ‘çš„è·¯ç”±å™¨ï¼ŒOYE-0001ï¼Œç”¨äº†åŠå¹´å¤šäº†ï¼Œè½¯ä»¶ä¸ŠæŒºç¨³å®šçš„ï¼Œå°±æ˜¯æ¥å£å¤ªæ¾ï¼Œä¸å°å¿ƒç¢°åˆ°ä¼šæ‰çº¿ã€‚

ä¹‹å‰æ”¹è£…çš„TP-Link WR845Nåˆ·Hackpascalçš„å›ºä»¶ä¼šå®šæœŸå®•æœºï¼Œå› ä¸ºä¸èƒ½å¤šæ‹¨äº†ï¼Œæ‰€ä»¥æ‰“ç®—æ¢å›åŸæ¥çš„è·¯ç”±å™¨åˆ·å®˜æ–¹å›ºä»¶ç¨³å®šä¸€ç‚¹ï¼Œåæ­£ä¸åœ¨å¯å®¤ä½äº†ï¼Œå¯¹äºæµæ§ä¹Ÿæ²¡æœ‰è¦æ±‚ã€‚
ä½†æ˜¯å®˜æ–¹ä¼¼ä¹æ”¾å¼ƒäº†WR845N V4ç‰ˆæœ¬ï¼Œå·²ç»ä¸‹è½½ä¸åˆ°å›ºä»¶äº†ï¼Œå…¶ä»–ç‰ˆæœ¬å›ºä»¶åˆ·å…¥åä¸èƒ½å¼€æœºã€‚
äºæ˜¯æ‰“ç®—è‡ªå·±å°è¯•ç¼–è¯‘ï¼Œè¸©äº†ä¸å°‘å‘å‘¢ã€‚
è®°å½•ä¸‹æ­¥éª¤å§ï¼"><title>æºç ç¼–è¯‘OpenWrtå›ºä»¶ç¬”è®°&nbsp;&ndash;&nbsp;Gorgias&#39; Blog</title><link rel="stylesheet" href="/css/core.min.363cdd0e3e6340dd0e88b1f21887fb7e53e3129ed31d7f3cf62686d06069621ece79dc5ffb48a77ebba54468e667212f.css" integrity="sha384-NjzdDj5jQN0OiLHyGIf7flPjEp7THX889iaG0GBpYh7Oedxf&#43;0infrulRGjmZyEv"><meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="æºç ç¼–è¯‘OpenWrtå›ºä»¶ç¬”è®°" /><body><section id="header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/zh/"><span class="site name">Gorgias' Blog</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="/zh/categories/">åˆ†ç±»</a><a class="nav item" href="/zh/tags/">æ ‡ç­¾</a><a class="nav item" href="/zh/about/">å…³äº</a><a class="nav item" href="/zh/links/">å‹é“¾</a><a class="nav item" href="/en/posts/build-openwrt-firmware-from-source-notes/" title="English">
            <span class="lang-icon">ğŸŒ</span>English</a></nav></div></span></div></section><section id="content"><style>
     
    .toc-wrapper {
        position: fixed;
        bottom: 30px;
        right: 30px;
        z-index: 9999;
        display: flex;
        flex-direction: column-reverse;
        align-items: flex-end;
        gap: 10px;
    }

     
    .toc-button {
        background-color: #fff;
        color: #333;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        border: 1px solid #ddd;
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .toc-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
    }

    .toc-button svg {
        width: 24px;
        height: 24px;
        fill: currentColor;
    }

     
    .toc-content-box {
        background: #fff;
        border: 1px solid #eee;
        border-radius: 8px;
        padding: 15px;
        width: 250px;
        max-height: 60vh;
        overflow-y: auto;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        display: none;
         
        font-size: 0.9em;
        opacity: 0;
        transform: translateY(10px);
        transition: opacity 0.3s, transform 0.3s;
    }

    .toc-content-box.show {
        display: block;
        opacity: 1;
        transform: translateY(0);
    }

    .toc-header {
        font-weight: bold;
        border-bottom: 2px solid #f0f0f0;
        padding-bottom: 8px;
        margin-bottom: 8px;
        font-size: 1.1em;
    }

     
    #TableOfContents {
        text-align: left;
    }

    #TableOfContents ul,
    #TableOfContents ol {
        list-style: none;
        padding-left: 0;
        margin: 0;
    }

    #TableOfContents li {
        margin: 4px 0;
    }

    #TableOfContents ul ul,
    #TableOfContents ol ol {
        padding-left: 1em;
    }

    #TableOfContents a {
        text-decoration: none;
        color: #555;
        display: block;
        padding: 2px 0;
        transition: color 0.2s;
    }

    #TableOfContents a:hover {
        color: #007bff;
    }

     
    @media (prefers-color-scheme: dark) {
        .toc-button {
            background-color: #333;
            color: #ddd;
            border-color: #555;
        }

        .toc-content-box {
            background-color: #2a2a2a;
            border-color: #444;
            color: #ddd;
        }

        .toc-header {
            border-bottom-color: #444;
        }

        #TableOfContents a {
            color: #aaa;
        }

        #TableOfContents a:hover {
            color: #fff;
        }
    }
</style><div class="article-container"><section class="article header">
    <h1 class="article title">æºç ç¼–è¯‘OpenWrtå›ºä»¶ç¬”è®°</h1><p class="article date">2017-02-24<span class="langs"><span class="lang">
                    <a href="/en/posts/build-openwrt-firmware-from-source-notes/" title="English">
                        <span class="lang-icon">ğŸŒ</span>English</a>
                </span></span></p></section><article class="article markdown-body"><h2 id="å‰è¨€">å‰è¨€</h2>
<p><img loading="lazy"  src="oye-0001.jpg"
        alt=""/>
æœ€è¿‘å­¦æ ¡çš„ç§»åŠ¨å®½å¸¦è¿è¥å•†å¼€å§‹æäº‹æƒ…ï¼Œææµé‡åŠ«æŒï¼Œä¸‹è½½æŠ•æ¯’ï¼Œæ­¥å…¥ç”µä¿¡è”é€šä¹‹æµã€‚è¿™ä¸ªå­¦æœŸä¹Ÿä¸èƒ½å¤šæ‹¨äº†ï¼Œä¼šè¢«ç³»ç»Ÿæ£€æµ‹åˆ°ï¼Œå°åœåŠä¸ªå°æ—¶ã€‚
å»å¹´å¤å¤©ä¹”æ²»å­¦é•¿é€æˆ‘çš„è·¯ç”±å™¨ï¼ŒOYE-0001ï¼Œç”¨äº†åŠå¹´å¤šäº†ï¼Œè½¯ä»¶ä¸ŠæŒºç¨³å®šçš„ï¼Œå°±æ˜¯æ¥å£å¤ªæ¾ï¼Œä¸å°å¿ƒç¢°åˆ°ä¼šæ‰çº¿ã€‚
<img loading="lazy"  src="845N.jpg"
        alt=""/>
ä¹‹å‰æ”¹è£…çš„TP-Link WR845Nåˆ·Hackpascalçš„å›ºä»¶ä¼šå®šæœŸå®•æœºï¼Œå› ä¸ºä¸èƒ½å¤šæ‹¨äº†ï¼Œæ‰€ä»¥æ‰“ç®—æ¢å›åŸæ¥çš„è·¯ç”±å™¨åˆ·å®˜æ–¹å›ºä»¶ç¨³å®šä¸€ç‚¹ï¼Œåæ­£ä¸åœ¨å¯å®¤ä½äº†ï¼Œå¯¹äºæµæ§ä¹Ÿæ²¡æœ‰è¦æ±‚ã€‚
ä½†æ˜¯å®˜æ–¹ä¼¼ä¹æ”¾å¼ƒäº†WR845N V4ç‰ˆæœ¬ï¼Œå·²ç»ä¸‹è½½ä¸åˆ°å›ºä»¶äº†ï¼Œå…¶ä»–ç‰ˆæœ¬å›ºä»¶åˆ·å…¥åä¸èƒ½å¼€æœºã€‚
äºæ˜¯æ‰“ç®—è‡ªå·±å°è¯•ç¼–è¯‘ï¼Œè¸©äº†ä¸å°‘å‘å‘¢ã€‚
è®°å½•ä¸‹æ­¥éª¤å§ï¼</p>
<h2 id="å‡†å¤‡">å‡†å¤‡</h2>
<p>å…ˆå‚è€ƒ<a href="https://github.com/openwrt/openwrt"target="_blank" rel="noopener noreferrer">openwrt github</a>
å‡†å¤‡å¥½ç¼–è¯‘ç¯å¢ƒï¼Œéœ€è¦ä»¥ä¸‹ç»„ä»¶</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">gcc, binutils, bzip2, flex, python, perl, make,
</span></span><span class="line"><span class="cl">find, grep, diff, unzip, gawk, getopt, subversion, libz-dev and libc headers
</span></span></code></pre></div><h3 id="ç³»ç»Ÿç¯å¢ƒ">ç³»ç»Ÿç¯å¢ƒ</h3>
<ul>
<li>OS: Arch Linux</li>
<li>Kernel: x86_64 Linux 4.9.8-1-ARCH</li>
</ul>
<p>ç›´æ¥ç”¨trunkç‰ˆæœ¬</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git clone https://github.com/openwrt/openwrt
</span></span></code></pre></div><p>è¿è¡Œfeedsè·å–æ‰€æœ‰çš„é¢„å®šä¹‰è½¯ä»¶åŒ…å¹¶ä¸”å®‰è£…ï¼Œå…³äº<a href="https://wiki.openwrt.org/doc/devel/feeds"target="_blank" rel="noopener noreferrer">feedså‚è€ƒ</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./scripts/feeds update -a
</span></span><span class="line"><span class="cl">./scripts/feeds install -a
</span></span></code></pre></div><h2 id="ç¼–è¯‘">ç¼–è¯‘</h2>
<p>å¼€å§‹é…ç½®ç¼–è¯‘èœå•</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">make menuconfig
</span></span></code></pre></div><p>æ–¹å‘å»ºä¸Šä¸‹æ“ä½œçºµåˆ—ï¼Œå·¦å³æ“ä½œæ¨ªåˆ—ï¼Œç©ºæ ¼é€‰æ‹©ï¼ŒMä»£è¡¨ä½œä¸ºæ¨¡å—ç¼–è¯‘ï¼Œ*ä»£è¡¨ç¼–è¯‘åˆ°å›ºä»¶ã€‚
<img loading="lazy"  src="menuconfig.png"
        alt=""/>
å› ä¸ºæ˜¯å…«è„šSPI Flashï¼ŒSubtargeté€‰æ‹©Genericï¼Œå‚è€ƒ<a href="https://wiki.openwrt.org/doc/techref/flash.layout"target="_blank" rel="noopener noreferrer">The OpenWrt Flash Layout</a></p>
<p>Target Profile é€‰æ‹© TP-LINK TL-WR842N/NDï¼Œå› ä¸ºç¡¬ä»¶ç›¸ä¼¼ï¼Œéƒ½æ˜¯QCA953Xçš„ã€‚
Target Images é€‰æ‹© squashfsï¼Œå‚è€ƒ<a href="https://en.wikipedia.org/wiki/SquashFS"target="_blank" rel="noopener noreferrer">SquashFS</a>
å…¶ä»–ä¿æŒé»˜è®¤ï¼Œå› ä¸ºå®¹é‡ä¸å¤Ÿï¼Œæ‰€ä»¥å…¶ä»–ç»„ä»¶å°±ä¸è£…äº†ï¼Œæ¥ä¸‹æ¥åˆ°LuCI
Collectionsï¼Œé€‰é»˜è®¤çš„
<img loading="lazy"  src="./configuration.png"
        alt=""/></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Modules ---&gt; Translations
</span></span></code></pre></div><p>é€‰æ‹©ä¸­æ–‡å’Œè‹±æ–‡
Applicationsè¿™é‡Œé€‰æ‹©éœ€è¦çš„åº”ç”¨ï¼Œå‚è€ƒPandoraBoxå›ºä»¶çš„åº”ç”¨ã€‚
Themesé‡Œé¢é€‰æœ€æ¼‚äº®çš„luci-theme-material
<img loading="lazy"  src="./luci.png"
        alt=""/>
æ¥ä¸‹æ¥ä¿å­˜ï¼Œåå­—ä¸€å®šè¦ä¸º<code>.config</code>ï¼Œä¸èƒ½æ”¹
<img loading="lazy"  src="./save.png"
        alt=""/></p>
<p>æ¥ä¸‹æ¥å¼€å§‹ç¼–è¯‘ï¼Œå› ä¸ºCPUæ˜¯åŒæ ¸åŒçº¿ç¨‹ï¼Œæ‰€ä»¥åŠ ä¸Š-j4ï¼Œç„¶ååŠ ä¸ŠV=99å¯ä»¥çœ‹åˆ°è¯¦ç»†ä¿¡æ¯ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">make -j4 <span class="nv">V</span><span class="o">=</span><span class="m">99</span>
</span></span></code></pre></div><p>ç¼–è¯‘æ—¶éœ€è¦è¿æ¥ç½‘ç»œä¸‹è½½è½¯ä»¶åŒ…ï¼Œéƒ¨åˆ†åœ°åŒºç½‘ç»œä¸å¯è¾¾ï¼Œè¯·ä½¿ç”¨ä»£ç†ã€‚
å› ä¸ºç½‘ç»œé—®é¢˜ç¼–è¯‘å¤±è´¥ï¼Œè¯·æ¸…ç†ï¼Œç„¶åä½¿ç”¨proxychains4ä»£ç†å®‰è£…</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">make clean
</span></span><span class="line"><span class="cl">pc4 make -j4 <span class="nv">V</span><span class="o">=</span><span class="m">99</span>
</span></span></code></pre></div><p>ç¼–è¯‘å®Œæˆåï¼Œä¼šåœ¨<code>./bin/ar71xx/</code>ç›®å½•ç”Ÿæˆå›ºä»¶å’Œè½¯ä»¶åŒ…ï¼Œæ‰¾åˆ°ç›¸åº”å›ºä»¶ï¼Œè¿›breedåˆ·å…¥å³å¯ã€‚
<img loading="lazy"  src="./compile.png"
        alt=""/>
å¼€æœºæˆåŠŸï¼Œå‘ç°åœ¨å«ç”Ÿé—´ä¿¡å·éƒ½æ˜¯æ»¡æ ¼
<img loading="lazy"  src="./ui.png"
        alt=""/></p>
<p>é™„ä¸Šå›ºä»¶ä¸‹è½½åœ°å€
<a href="https://mega.nz/#!b94VCaJS!3u3TEam6ScpjXH9-oPVySjihKCgzLtbE6Z8KpYADhkc"target="_blank" rel="noopener noreferrer">Mega</a></p>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<p><a href="https://wiki.openwrt.org/"target="_blank" rel="noopener noreferrer">OpenWrt Wiki</a></p>
<p><a href="https://en.wikipedia.org"target="_blank" rel="noopener noreferrer">Wikipedia</a></p>
</article><section class="article labels"><a class="category" href=/zh/categories/%E6%8A%98%E8%85%BE/>æŠ˜è…¾</a><a class="category" href=/zh/categories/iot/>IoT</a><a class="tag" href=/zh/tags/openwrt/>openwrt</a><a class="tag" href=/zh/tags/tp-link/>TP-Link</a></section>
</div>

<div class="article bottom"><section class="article navigation"><p><a class="link" href="/zh/posts/burpsuite-extension-for-bruteforcing-a-platform/"><span class="iconfont icon-article"></span>å¼€å‘BurpSuiteæ‰©å±•çˆ†ç ´æŸå¹³å°</a></p><p><a class="link" href="/zh/posts/qemu-first-impressions/"><span class="iconfont icon-article"></span>KVM/QEMUåˆä½“éªŒ</a></p></section></div></section><section id="footer"><div class="footer-wrap">
    <p class="copyright">2015 - 2026 Gorgias' Blog. </p><p class="license">
        <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener noreferrer">
            <img alt="CC BY-NC-SA" loading="lazy" src="/images/by-nc.svg" style="vertical-align: middle; height: 1.2em; margin: 0 0.2em;" />
            CC BY-NC-SA 4.0
        </a>
        (ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«).
    </p><p class="powerby"><span>Powered&nbsp;by&nbsp;</span><a href="https://gohugo.io" 
        target="_blank" rel="noopener noreferrer">Hugo</a><span>&nbsp;&amp;&nbsp;</span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank" rel="noopener noreferrer">Notepadium</a></p></div></section></body>

</html>