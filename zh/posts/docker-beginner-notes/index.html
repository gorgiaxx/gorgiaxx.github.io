<!DOCTYPE html>
<html lang="zh"><meta charset="utf-8"><meta name="generator" content="Hugo 0.154.5"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><meta name="description" content="
å®Œå…¨æ˜¯è¢«è¿™ä¸ªé²¸é±¼logoå¸å¼•çš„ï¼Œåˆæ¬¡çœ‹åˆ°è¿™ä¸ªlogoå°±å–œæ¬¢ä¸Šäº†ã€‚
Dockeræ˜¯ä¸€ä¸ªå¼€æºçš„å¼•æ“ï¼Œå¯ä»¥è½»æ¾çš„ä¸ºä»»ä½•åº”ç”¨åˆ›å»ºä¸€ä¸ªè½»é‡çº§çš„ã€å¯ç§»æ¤çš„ã€è‡ªç»™è‡ªè¶³çš„å®¹å™¨ã€‚å¼€å‘è€…åœ¨ç¬”è®°æœ¬ä¸Šç¼–è¯‘æµ‹è¯•é€šè¿‡çš„å®¹å™¨å¯ä»¥æ‰¹é‡åœ°åœ¨ç”Ÿäº§ç¯å¢ƒä¸­éƒ¨ç½²ï¼ŒåŒ…æ‹¬VMsï¼ˆè™šæ‹Ÿæœºï¼‰ã€bare metalã€OpenStack é›†ç¾¤å’Œå…¶ä»–çš„åŸºç¡€åº”ç”¨å¹³å°ã€‚
Docker containerå’Œæ™®é€šçš„è™šæ‹ŸæœºImageç›¸æ¯”, æœ€å¤§çš„åŒºåˆ«æ˜¯å®ƒå¹¶ä¸åŒ…å«æ“ä½œç³»ç»Ÿå†…æ ¸.
"><title>å°é²¸é±¼Dockeræ–°æ‰‹å­¦ä¹ ç¬”è®°&nbsp;&ndash;&nbsp;Gorgias&#39; Blog</title><link rel="stylesheet" href="/css/core.min.363cdd0e3e6340dd0e88b1f21887fb7e53e3129ed31d7f3cf62686d06069621ece79dc5ffb48a77ebba54468e667212f.css" integrity="sha384-NjzdDj5jQN0OiLHyGIf7flPjEp7THX889iaG0GBpYh7Oedxf&#43;0infrulRGjmZyEv"><meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="å°é²¸é±¼Dockeræ–°æ‰‹å­¦ä¹ ç¬”è®°" /><body><section id="header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/zh/"><span class="site name">Gorgias' Blog</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="/zh/categories/">åˆ†ç±»</a><a class="nav item" href="/zh/tags/">æ ‡ç­¾</a><a class="nav item" href="/zh/about/">å…³äº</a><a class="nav item" href="/zh/links/">å‹é“¾</a></nav></div></span></div></section><section id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">å°é²¸é±¼Dockeræ–°æ‰‹å­¦ä¹ ç¬”è®°</h1><p class="article date">Saturday, August 29, 2015<span class="langs"><span class="lang">
                    <a href="/en/posts/docker-beginner-notes/" title="English">
                        <span class="lang-icon">ğŸŒ</span>English</a>
                </span></span></p></section><article class="article markdown-body"><p><img loading="lazy"  src="./logo.png"
        alt="logo"/>
å®Œå…¨æ˜¯è¢«è¿™ä¸ªé²¸é±¼logoå¸å¼•çš„ï¼Œåˆæ¬¡çœ‹åˆ°è¿™ä¸ªlogoå°±å–œæ¬¢ä¸Šäº†ã€‚
Dockeræ˜¯ä¸€ä¸ªå¼€æºçš„å¼•æ“ï¼Œå¯ä»¥è½»æ¾çš„ä¸ºä»»ä½•åº”ç”¨åˆ›å»ºä¸€ä¸ªè½»é‡çº§çš„ã€å¯ç§»æ¤çš„ã€è‡ªç»™è‡ªè¶³çš„å®¹å™¨ã€‚å¼€å‘è€…åœ¨ç¬”è®°æœ¬ä¸Šç¼–è¯‘æµ‹è¯•é€šè¿‡çš„å®¹å™¨å¯ä»¥æ‰¹é‡åœ°åœ¨ç”Ÿäº§ç¯å¢ƒä¸­éƒ¨ç½²ï¼ŒåŒ…æ‹¬VMsï¼ˆè™šæ‹Ÿæœºï¼‰ã€bare metalã€OpenStack é›†ç¾¤å’Œå…¶ä»–çš„åŸºç¡€åº”ç”¨å¹³å°ã€‚
Docker containerå’Œæ™®é€šçš„è™šæ‹ŸæœºImageç›¸æ¯”, æœ€å¤§çš„åŒºåˆ«æ˜¯å®ƒå¹¶ä¸åŒ…å«æ“ä½œç³»ç»Ÿå†…æ ¸.
<img loading="lazy"  src="./diff.png"
        alt="diff"/></p>
<h4 id="dockeré€šå¸¸ç”¨äºå¦‚ä¸‹åœºæ™¯">Dockeré€šå¸¸ç”¨äºå¦‚ä¸‹åœºæ™¯ï¼š</h4>
<ul>
<li>webåº”ç”¨çš„è‡ªåŠ¨åŒ–æ‰“åŒ…å’Œå‘å¸ƒï¼›</li>
<li>è‡ªåŠ¨åŒ–æµ‹è¯•å’ŒæŒç»­é›†æˆã€å‘å¸ƒï¼›</li>
<li>åœ¨æœåŠ¡å‹ç¯å¢ƒä¸­éƒ¨ç½²å’Œè°ƒæ•´æ•°æ®åº“æˆ–å…¶ä»–çš„åå°åº”ç”¨ï¼›</li>
<li>ä»å¤´ç¼–è¯‘æˆ–è€…æ‰©å±•ç°æœ‰çš„OpenShiftæˆ–Cloud Foundryå¹³å°æ¥æ­å»ºè‡ªå·±çš„PaaSç¯å¢ƒã€‚</li>
</ul>
<p>Linuxç‰ˆæœ¬ï¼š<a href="http://www.ubuntu.com/download/server"target="_blank" rel="noopener noreferrer">ubuntu-15.04-server-amd64</a>
ç¯å¢ƒï¼šVMware Workstation 11</p>
<p>ä¸‹è½½å®‰è£…docker</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">apt-get install docker.io
</span></span></code></pre></div><p>æŸ¥çœ‹dockerç‰ˆæœ¬</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@ubuntu:~# docker version
</span></span><span class="line"><span class="cl">Client version: 1.6.2
</span></span><span class="line"><span class="cl">Client API version: 1.18
</span></span><span class="line"><span class="cl">Go version <span class="o">(</span>client<span class="o">)</span>: go1.3.3
</span></span><span class="line"><span class="cl">Git commit <span class="o">(</span>client<span class="o">)</span>: 7c8fca2
</span></span><span class="line"><span class="cl">OS/Arch <span class="o">(</span>client<span class="o">)</span>: linux/amd64
</span></span><span class="line"><span class="cl">Server version: 1.6.2
</span></span><span class="line"><span class="cl">Server API version: 1.18
</span></span><span class="line"><span class="cl">Go version <span class="o">(</span>server<span class="o">)</span>: go1.3.3
</span></span><span class="line"><span class="cl">Git commit <span class="o">(</span>server<span class="o">)</span>: 7c8fca2
</span></span><span class="line"><span class="cl">OS/Arch <span class="o">(</span>server<span class="o">)</span>: linux/amd64
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@ubuntu:~# docker info
</span></span><span class="line"><span class="cl">Containers: <span class="m">13</span>
</span></span><span class="line"><span class="cl">Images: <span class="m">3</span>
</span></span><span class="line"><span class="cl">Storage Driver: aufs
</span></span><span class="line"><span class="cl"> Root Dir: /var/lib/docker/aufs
</span></span><span class="line"><span class="cl"> Backing Filesystem: extfs
</span></span><span class="line"><span class="cl"> Dirs: <span class="m">29</span>
</span></span><span class="line"><span class="cl"> Dirperm1 Supported: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">Execution Driver: native-0.2
</span></span><span class="line"><span class="cl">Kernel Version: 3.19.0-15-generic
</span></span><span class="line"><span class="cl">Operating System: Ubuntu 15.04
</span></span><span class="line"><span class="cl">CPUs: <span class="m">2</span>
</span></span><span class="line"><span class="cl">Total Memory: 1.938 GiB
</span></span><span class="line"><span class="cl">Name: ubuntu
</span></span><span class="line"><span class="cl">ID: 5P2D:CFMQ:5WWP:U7RE:3SLE:Z2D3:L7D3:UMCI:LHZD:WNQK:Q6DD:ZRPA
</span></span><span class="line"><span class="cl">WARNING: No swap limit support
</span></span></code></pre></div><p>æœç´¢å¯ç”¨çš„dockeré•œåƒ
è¿™é‡Œç”¨å·¥å…·æ£€ç´¢åå­—ä¸ºtutorialçš„é•œåƒ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@ubuntu:~# docker search learn/tutorial
</span></span><span class="line"><span class="cl">NAME             DESCRIPTION   STARS     OFFICIAL   AUTOMATED
</span></span><span class="line"><span class="cl">learn/tutorial                 <span class="m">11</span>
</span></span></code></pre></div><p>ä¸‹è½½å®¹å™¨é•œåƒ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@ubuntu:~# docker search learn/tutorial
</span></span><span class="line"><span class="cl">NAME             DESCRIPTION   STARS     OFFICIAL   AUTOMATED
</span></span><span class="line"><span class="cl">learn/tutorial                 <span class="m">11</span>
</span></span><span class="line"><span class="cl">root@ubuntu:~# docker pull learn/tutorial
</span></span><span class="line"><span class="cl">Pulling repository learn/tutorial
</span></span><span class="line"><span class="cl">8dbd9e392a96: Download <span class="nb">complete</span> Status: Downloaded newer image <span class="k">for</span> learn/tutorial:latest
</span></span></code></pre></div><p>æ¥ä¸€ä¸ªhello gorigas!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@ubuntu:~# docker run learn/tutorial <span class="nb">echo</span> <span class="s2">&#34;hello gorgias&#34;</span>
</span></span><span class="line"><span class="cl">hello gorgias
</span></span></code></pre></div><p>åœ¨å®¹å™¨ä¸­å®‰è£…æ–°çš„ç¨‹åº</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run learn/tutorial apt-get install -y ping
</span></span></code></pre></div><p>åœ¨æ‰§è¡Œapt-get å‘½ä»¤çš„æ—¶å€™ï¼Œè¦å¸¦ä¸Š-yå‚æ•°ã€‚å¦‚æœä¸æŒ‡å®š-yå‚æ•°çš„è¯ï¼Œapt-getå‘½ä»¤ä¼šè¿›å…¥äº¤äº’æ¨¡å¼ï¼Œéœ€è¦ç”¨æˆ·è¾“å…¥å‘½ä»¤æ¥è¿›è¡Œç¡®è®¤ï¼Œä½†åœ¨dockerç¯å¢ƒä¸­æ˜¯æ— æ³•å“åº”è¿™ç§äº¤äº’çš„ã€‚</p>
<p>ä¿å­˜å¯¹å®¹å™¨çš„ä¿®æ”¹
å½“ä½ å¯¹æŸä¸€ä¸ªå®¹å™¨åšäº†ä¿®æ”¹ä¹‹åï¼ˆé€šè¿‡åœ¨å®¹å™¨ä¸­è¿è¡ŒæŸä¸€ä¸ªå‘½ä»¤ï¼‰ï¼Œå¯ä»¥æŠŠå¯¹å®¹å™¨çš„ä¿®æ”¹ä¿å­˜ä¸‹æ¥ï¼Œè¿™æ ·ä¸‹æ¬¡å¯ä»¥ä»ä¿å­˜åçš„æœ€æ–°çŠ¶æ€è¿è¡Œè¯¥å®¹å™¨ã€‚dockerä¸­ä¿å­˜çŠ¶æ€çš„è¿‡ç¨‹ç§°ä¹‹ä¸ºcommittingï¼Œå®ƒä¿å­˜çš„æ–°æ—§çŠ¶æ€ä¹‹é—´çš„åŒºåˆ«ï¼Œä»è€Œäº§ç”Ÿä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ã€‚
é¦–å…ˆä½¿ç”¨docker ps -lå‘½ä»¤è·å¾—å®‰è£…å®Œpingå‘½ä»¤ä¹‹åå®¹å™¨çš„idã€‚ç„¶åæŠŠè¿™ä¸ªé•œåƒä¿å­˜ä¸ºlearn/pingã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@ubuntu:~# docker ps -l
</span></span><span class="line"><span class="cl">CONTAINER ID        IMAGE                   COMMAND              CREATED              STATUS              PORTS               NAMES
</span></span><span class="line"><span class="cl">824490fb9db6        learn/tutorial:latest   <span class="s2">&#34;ping 192.168.1.1&#34;</span>   About a minute ago
</span></span><span class="line"><span class="cl">//åªéœ€å–åˆ°èƒ½ç”¨äºåŒºåˆ†çš„é‡å°±è¡Œäº†ï¼Œè¿™é‡Œæ˜¯824                                          suspicious_yalow
</span></span><span class="line"><span class="cl">root@ubuntu:~# docker commit <span class="m">824</span> learn/ping
</span></span><span class="line"><span class="cl">ae5aa76cc0f84a7a3ebb77e8c7557df0d89564dd5cb9830cb4d35424290a71ca //è¿”å›çš„ç‰ˆæœ¬å·
</span></span></code></pre></div><p>è¿è¡Œæ–°çš„é•œåƒ
ä¸€å®šè¦ä½¿ç”¨æ–°çš„é•œåƒålearn/pingæ¥è¿è¡Œpingå‘½ä»¤ã€‚(è¯‘è€…æŒ‰ï¼šæœ€å¼€å§‹ä¸‹è½½çš„learn/tutorialé•œåƒä¸­æ˜¯æ²¡æœ‰pingå‘½ä»¤çš„)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># docker run learn/ping ping www.baidu.com</span>
</span></span><span class="line"><span class="cl">PING www.a.shifen.com <span class="o">(</span>115.239.210.27<span class="o">)</span> 56<span class="o">(</span>84<span class="o">)</span> bytes of data.
</span></span><span class="line"><span class="cl"><span class="m">64</span> bytes from 115.239.210.27: <span class="nv">icmp_req</span><span class="o">=</span><span class="m">1</span> <span class="nv">ttl</span><span class="o">=</span><span class="m">53</span> <span class="nv">time</span><span class="o">=</span>23.7 ms
</span></span><span class="line"><span class="cl"><span class="m">64</span> bytes from 115.239.210.27: <span class="nv">icmp_req</span><span class="o">=</span><span class="m">2</span> <span class="nv">ttl</span><span class="o">=</span><span class="m">53</span> <span class="nv">time</span><span class="o">=</span>23.2 ms
</span></span><span class="line"><span class="cl"><span class="m">64</span> bytes from 115.239.210.27: <span class="nv">icmp_req</span><span class="o">=</span><span class="m">3</span> <span class="nv">ttl</span><span class="o">=</span><span class="m">53</span> <span class="nv">time</span><span class="o">=</span>23.4 ms
</span></span></code></pre></div><p>åœæ­¢è¿è¡Œä¸­çš„é•œåƒ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker stop id  //ä¼˜â™‚é›…åœ°åœæ­¢é•œåƒ
</span></span><span class="line"><span class="cl">docker <span class="nb">kill</span> id  //å¼ºè¡Œåœæ­¢é•œåƒ
</span></span></code></pre></div><p>æ£€æŸ¥è¿è¡Œä¸­çš„é•œåƒ
å…ˆä½¿ç”¨docker psæŸ¥çœ‹é•œåƒï¼Œç„¶åå†ç”¨è¿™æ¡å‘½ä»¤</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker inspect dc8 //è¿™é‡Œdc8æ˜¯é•œåƒidçš„å‰ä¸‰ä½
</span></span></code></pre></div><p><img loading="lazy"  src="./inspect.png"
        alt="inspect"/></p>
<p>å‘å¸ƒè‡ªå·±çš„é•œåƒ
å…ˆåœ¨<a href="https://hub.docker.com/"target="_blank" rel="noopener noreferrer">Docker Hub</a>æ³¨å†Œä¸€ä¸ªè´¦å·
åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„ä»“åº“
<img loading="lazy"  src="./repostitory.png"
        alt="repostitory"/>
pushä¹‹å‰ä¹Ÿå¯ä»¥å…ˆç™»å½•</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker login
</span></span></code></pre></div><p>è¿™é‡Œå°è¯•æŠŠlearn/pingå‘å¸ƒåˆ°dockerçš„indexç½‘ç«™ã€‚ä½ åªèƒ½å°†é•œåƒå‘å¸ƒåˆ°è‡ªå·±çš„ç©ºé—´ä¸‹é¢ã€‚è¿™ä¸ªæ¨¡æ‹Ÿå™¨ç™»å½•çš„æ˜¯learnå¸å·ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@ubuntu:~# docker images //åˆ—å‡ºæ‰€æœ‰å®‰è£…è¿‡çš„é•œåƒ
</span></span><span class="line"><span class="cl">REPOSITORY          TAG                 IMAGE ID            CREATED              VIRTUAL SIZE
</span></span><span class="line"><span class="cl">learn/ping          latest              db66cd8a04ae        <span class="m">55</span> minutes ago       139.5 MB
</span></span><span class="line"><span class="cl">learn/tutorial      latest              8dbd9e392a96        2.380344 years ago   <span class="m">128</span> MB
</span></span><span class="line"><span class="cl">root@ubuntu:~# docker tag db6 gorgiaxx/learn-ping //ä¿®æ”¹é•œåƒæ ‡ç­¾
</span></span><span class="line"><span class="cl">root@ubuntu:~# docker push gorgiaxx/learn-ping //å‘å¸ƒä¸€ä¸ªé•œåƒåˆ°å®˜æ–¹ç½‘ç«™
</span></span><span class="line"><span class="cl">The push refers to a repository <span class="o">[</span>gorgiaxx/learn-ping<span class="o">]</span> <span class="o">(</span>len: 1<span class="o">)</span>
</span></span><span class="line"><span class="cl">Sending image list
</span></span><span class="line"><span class="cl">Pushing repository gorgiaxx/learn-ping <span class="o">(</span><span class="m">1</span> tags<span class="o">)</span>
</span></span><span class="line"><span class="cl">8dbd9e392a96: Image already pushed, skipping
</span></span><span class="line"><span class="cl">db66cd8a04ae: Image successfully pushed
</span></span><span class="line"><span class="cl">Pushing tag <span class="k">for</span> rev <span class="o">[</span>db66cd8a04ae<span class="o">]</span> on <span class="o">{</span>https://cdn-registry-1.docker.io/v1/repositories/gorgiaxx/learn-ping/tags/latest<span class="o">}</span>
</span></span></code></pre></div><p>æˆåŠŸå‘å¸ƒåˆ°äº†Docker Hubä¸Š
<img loading="lazy"  src="./pushed.png"
        alt="pushed"/></p>
</article><section class="article labels"><a class="category" href=/zh/categories/%E8%99%9A%E6%8B%9F%E5%8C%96/>è™šæ‹ŸåŒ–</a><a class="tag" href=/zh/tags/docker/>Docker</a></section>
</div>
<div class="article bottom"><section class="article navigation"><p><a class="link" href="/zh/posts/deploy-hexo-blog-on-gitcafe/"><span class="iconfont icon-article"></span>åœ¨GitCafeä¸Šéƒ¨ç½²Hexoåšå®¢</a></p><p><a class="link" href="/zh/posts/kali-nethunter-first-impressions/"><span class="iconfont icon-article"></span>Kali Nethunteråˆä½“éªŒ</a></p></section></div></section><section id="footer"><div class="footer-wrap">
    <p class="copyright">2015 - 2026 Gorgias' Blog. </p><p class="license">
        <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener noreferrer">
            <img alt="CC BY-NC-SA" loading="lazy" src="/images/by-nc.svg" style="vertical-align: middle; height: 1.2em; margin: 0 0.2em;" />
            CC BY-NC-SA 4.0
        </a>
        (ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«).
    </p><p class="powerby"><span>Powered&nbsp;by&nbsp;</span><a href="https://gohugo.io" 
        target="_blank" rel="noopener noreferrer">Hugo</a><span>&nbsp;&amp;&nbsp;</span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank" rel="noopener noreferrer">Notepadium</a></p></div></section></body>

</html>