<!DOCTYPE html>
<html lang="zh"><meta charset="utf-8"><meta name="generator" content="Hugo 0.154.5"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><meta name="description" content="å‰è¨€
è¿™ç¯‡æ–‡ç« æ˜¯å»å¹´9æœˆå†™çš„ï¼Œ7æœˆä»½æ—¶leaderå¼„äº†ä¸ªè·¯ç”±å™¨è¿‡æ¥ï¼Œäº¤ç»™ä¸€ä¸ªå®ä¹ ç”Ÿæï¼Œä»–æä¸å®šï¼Œç„¶åä¸æäº†ã€‚åæ¥æˆ‘æœ‰ç©ºå°±æäº†ä¸€ä¸‹ï¼Œä½†æ˜¯è§£å¯†é‚£éƒ¨åˆ†è¿˜æ²¡å¼„å®Œï¼Œä¹Ÿæ˜¯å¼„åˆ°ä¸€åŠå°±è®©æˆ‘å»åšåˆ«çš„äº‹æƒ…äº†ï¼Œå±äºçƒ‚å°¾æ–‡ã€‚"><title>Verizon FIOS-G1100 è·å–ROOTæƒé™&nbsp;&ndash;&nbsp;Gorgias&#39; Blog</title><link rel="stylesheet" href="/css/core.min.363cdd0e3e6340dd0e88b1f21887fb7e53e3129ed31d7f3cf62686d06069621ece79dc5ffb48a77ebba54468e667212f.css" integrity="sha384-NjzdDj5jQN0OiLHyGIf7flPjEp7THX889iaG0GBpYh7Oedxf&#43;0infrulRGjmZyEv"><meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Verizon FIOS-G1100 è·å–ROOTæƒé™" /><body><section id="header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/zh/"><span class="site name">Gorgias' Blog</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="/zh/categories/">åˆ†ç±»</a><a class="nav item" href="/zh/tags/">æ ‡ç­¾</a><a class="nav item" href="/zh/about/">å…³äº</a><a class="nav item" href="/zh/links/">å‹é“¾</a><a class="nav item" href="/en/posts/fios-g1100-get-root/" title="English">
            <span class="lang-icon">ğŸŒ</span>English</a></nav></div></span></div></section><section id="content"><style>
     
    .toc-wrapper {
        position: fixed;
        bottom: 30px;
        right: 30px;
        z-index: 9999;
        display: flex;
        flex-direction: column-reverse;
        align-items: flex-end;
        gap: 10px;
    }

     
    .toc-button {
        background-color: #fff;
        color: #333;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        border: 1px solid #ddd;
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .toc-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
    }

    .toc-button svg {
        width: 24px;
        height: 24px;
        fill: currentColor;
    }

     
    .toc-content-box {
        background: #fff;
        border: 1px solid #eee;
        border-radius: 8px;
        padding: 15px;
        width: 250px;
        max-height: 60vh;
        overflow-y: auto;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        display: none;
         
        font-size: 0.9em;
        opacity: 0;
        transform: translateY(10px);
        transition: opacity 0.3s, transform 0.3s;
    }

    .toc-content-box.show {
        display: block;
        opacity: 1;
        transform: translateY(0);
    }

    .toc-header {
        font-weight: bold;
        border-bottom: 2px solid #f0f0f0;
        padding-bottom: 8px;
        margin-bottom: 8px;
        font-size: 1.1em;
    }

     
    #TableOfContents {
        text-align: left;
    }

    #TableOfContents ul,
    #TableOfContents ol {
        list-style: none;
        padding-left: 0;
        margin: 0;
    }

    #TableOfContents li {
        margin: 4px 0;
    }

    #TableOfContents ul ul,
    #TableOfContents ol ol {
        padding-left: 1em;
    }

    #TableOfContents a {
        text-decoration: none;
        color: #555;
        display: block;
        padding: 2px 0;
        transition: color 0.2s;
    }

    #TableOfContents a:hover {
        color: #007bff;
    }

     
    @media (prefers-color-scheme: dark) {
        .toc-button {
            background-color: #333;
            color: #ddd;
            border-color: #555;
        }

        .toc-content-box {
            background-color: #2a2a2a;
            border-color: #444;
            color: #ddd;
        }

        .toc-header {
            border-bottom-color: #444;
        }

        #TableOfContents a {
            color: #aaa;
        }

        #TableOfContents a:hover {
            color: #fff;
        }
    }
</style><div class="article-container"><section class="article header">
    <h1 class="article title">Verizon FIOS-G1100 è·å–ROOTæƒé™</h1><p class="article date">2017-09-01<span class="langs"><span class="lang">
                    <a href="/en/posts/fios-g1100-get-root/" title="English">
                        <span class="lang-icon">ğŸŒ</span>English</a>
                </span></span></p></section><article class="article markdown-body"><h2 id="å‰è¨€">å‰è¨€</h2>
<p>è¿™ç¯‡æ–‡ç« æ˜¯å»å¹´9æœˆå†™çš„ï¼Œ7æœˆä»½æ—¶leaderå¼„äº†ä¸ªè·¯ç”±å™¨è¿‡æ¥ï¼Œäº¤ç»™ä¸€ä¸ªå®ä¹ ç”Ÿæï¼Œä»–æä¸å®šï¼Œç„¶åä¸æäº†ã€‚åæ¥æˆ‘æœ‰ç©ºå°±æäº†ä¸€ä¸‹ï¼Œä½†æ˜¯è§£å¯†é‚£éƒ¨åˆ†è¿˜æ²¡å¼„å®Œï¼Œä¹Ÿæ˜¯å¼„åˆ°ä¸€åŠå°±è®©æˆ‘å»åšåˆ«çš„äº‹æƒ…äº†ï¼Œå±äºçƒ‚å°¾æ–‡ã€‚</p>
<p>FIOS-G1100å›ºä»¶æ€»å…±ä¸‰ç§ç±»å‹ï¼Œç›®å½•ä¸‹æ–‡ä»¶å¤§åŒå°å¼‚
Frontier
Verizon
0.x.x
1.x.x.x.x
01.x.x.x
G1100è¿è¡Œäº†CPEæœåŠ¡ä½œä¸ºåé—¨ï¼Œå¼€æ”¾ç«¯å£4567ã€‚Verizoné€šè¿‡TR-069åè®®å¯¹ç»ˆç«¯è¿›è¡Œæ§åˆ¶ã€‚æˆ‘ä»¬æœ¬åœ°æ­å»ºACSï¼Œé€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ŒæŠŠACS URLæŒ‡å‘æœ¬åœ°æ­å»ºçš„ACSï¼Œå¯ä»¥åœ¨WANå£å¼€å¯å…·æœ‰ROOTæƒé™çš„SSHæœåŠ¡ã€‚</p>
<h2 id="æ­å»ºæœ¬åœ°acs">æ­å»ºæœ¬åœ°ACS</h2>
<h3 id="genieacs">Genieacs</h3>
<p>GenieACSæ˜¯ä¸€æ¬¾å¼€æºçš„å…·æœ‰è®¾å¤‡é…ç½®åŠŸèƒ½çš„TR-069è¿œç¨‹ç®¡ç†è½¯ä»¶ã€‚
è¦æ±‚ç³»ç»Ÿæ”¯æŒNode.js,MongoDB,Redisã€‚DockerHubæœ‰æ‰“åŒ…å¥½çš„é•œåƒï¼Œå¯ä»¥å¿«é€Ÿæ­å»ºã€‚
å…¨å±€å®‰è£…genieacs</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo npm install -g genieacs
</span></span></code></pre></div><p>è¿›å…¥npmæ¨¡å—ç›®å½•ï¼Œè¿è¡Œç›¸åº”æœåŠ¡</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> /usr/lib/node_modules/genieacs
</span></span></code></pre></div><p>è¿è¡ŒACSæœåŠ¡ï¼Œç«¯å£é»˜è®¤7547</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">genieacs-cwmp
</span></span></code></pre></div><p>GUIçš„REST APIæœåŠ¡ï¼Œç«¯å£é»˜è®¤7557</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">genieacs-nbi
</span></span></code></pre></div><h3 id="genieacs-gui">GenieACS GUI</h3>
<p>ä»githubä¸‹è½½å¹¶ä¸‹è½½å®‰è£…ä¾èµ–</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git clone https://github.com/zaidka/genieacs-gui.git
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> genieacs-gui
</span></span><span class="line"><span class="cl">cp config/graphs-sample.json.erb config/graphs.json.erb
</span></span><span class="line"><span class="cl">cp config/index_parameters-sample.yml config/index_parameters.yml
</span></span><span class="line"><span class="cl">cp config/summary_parameters-sample.yml config/summary_parameters.yml
</span></span><span class="line"><span class="cl">cp config/parameters_edit-sample.yml config/parameters_edit.yml
</span></span><span class="line"><span class="cl">cp config/parameter_renderers-sample.yml config/parameter_renderers.yml
</span></span><span class="line"><span class="cl">cp config/roles-sample.yml config/roles.yml
</span></span><span class="line"><span class="cl">cp config/users-sample.yml config/users.yml
</span></span><span class="line"><span class="cl">bundle
</span></span><span class="line"><span class="cl">rails s
</span></span></code></pre></div><p>è¿™é‡Œå¯èƒ½ä¼šæç¤ºjsonç‰ˆæœ¬é”™è¯¯ï¼Œåœ¨Gemfileæ›¿æ¢1.8.3å¦‚ä¸‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">gem</span> <span class="err">&#39;json&#39;,</span> <span class="err">&#39;~&gt;</span> <span class="mf">1.8</span><span class="err">.</span><span class="mi">4</span><span class="err">&#39;</span>
</span></span></code></pre></div><h2 id="ä¿®æ”¹é…ç½®æ–‡ä»¶">ä¿®æ”¹é…ç½®æ–‡ä»¶</h2>
<p>åŠ è§£å¯†è„šæœ¬ï¼Œè¿™æ˜¯è§£FIOSé…ç½®æ–‡ä»¶é€šç”¨çš„è„šæœ¬</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">https://gist.github.com/laanwj/5343bbb48759c8813b5807b43fd01fb6
</span></span><span class="line"><span class="cl">https://gist.github.com/jameshilliard/7112235b62dd929d69d7980c979ae7c0
</span></span><span class="line"><span class="cl">https://gist.github.com/jameshilliard/99191b2a2877220041dc8789fa07339a
</span></span></code></pre></div><p>é…ç½®æ–‡ä»¶è¢«åŠ å¯†è¿‡ï¼Œé€šè¿‡åˆ†æ/sbin/frontier4æ–‡ä»¶(åœ¨0.xç‰ˆæœ¬ä¸­æ–‡ä»¶åä¸ºbhr4)ï¼Œå‘ç°é…ç½®æ–‡ä»¶ç»è¿‡ä¸€ä¸ªå‡½æ•°getEncryptedBase64Backup()åŠ å¯†ï¼Œä½¿ç”¨OpenSSLçš„EVP_aes_256_cbcåŠ å¯†ç„¶åBase64ç¼–ç ã€‚åªè¦æå–å‡ºkeyå’Œivå°±èƒ½è§£å¯†ã€‚
<img loading="lazy"  src="./idapro_base64.png"
        alt="idapro_base64"/></p>
<h3 id="todo">TODO</h3>
<p>å¯†é’¥è™½ç„¶å›ºå®šï¼Œå³æ—¶ç”Ÿæˆï¼Œä¸æ˜¯ç¡¬ç¼–ç ï¼Œéœ€è¦åœ¨QEMUç¯å¢ƒåŠ¨æ€å¾—åˆ°å¯†é’¥ï¼Œå†™åœ¨è¿™é‡Œï¼Œæ²¡æ—¶é—´æã€‚</p>
<p>æ‰¾åˆ°management_server.urlè¿™ä¸€æ®µ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;net.tr69_client.management_server.url&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;string&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="s2">&#34;https://cpe-ems0271.verizon.com/cwmpWeb/CPEMgt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>æŠŠåœ°å€æ”¹æˆæœ¬åœ°ACSåœ°å€</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">http://192.168.1.241:7547
</span></span></code></pre></div><p>ä¸Šä¼ ä¿®æ”¹åçš„é…ç½®æ–‡ä»¶ï¼Œç„¶åä¼šè‡ªåŠ¨é‡å¯
<img loading="lazy"  src="./upload_configfile.png"
        alt="upload_configfile"/></p>
<h2 id="å¼€å¯ssh">å¼€å¯SSH</h2>
<h3 id="å¼€å¯ä¸´æ—¶ssh">å¼€å¯ä¸´æ—¶SSH</h3>
<p>åœ¨/etc/cwmp/cwmp.xmlå¯çŸ¥ï¼Œè®¾å¤‡æ”¯æŒå¼€å¯SSH
<img loading="lazy"  src="./tr069_ssh_config.png"
        alt="tr069_ssh_config"/>
æ‰“å¼€Genieacs GUIï¼Œå¯ä»¥çœ‹åˆ°è®¾å¤‡åœ¨çº¿
<img loading="lazy"  src="./device_status.png"
        alt="device_status"/>
è¦æ§åˆ¶è®¾å¤‡ï¼Œé¦–å…ˆè¦ç™»å½•ï¼Œè´¦å·å¯†ç admin/admin
<img loading="lazy"  src="./login.png"
        alt="login"/>
è·å–å…¶é…ç½®å‚æ•°åˆ—è¡¨
<img loading="lazy"  src="./genieacs_config.png"
        alt="genieacs_config"/>
ä¿®æ”¹X_D4A928_SSH_Stateä¸ºSSH_REMOTEï¼Œæ„æ€åœ¨WANå£å¼€å¯è¿œç¨‹è®¿é—®</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">InternetGatewayDevice</span><span class="p">.</span><span class="nx">X_D4A928_SSH_State</span>
</span></span></code></pre></div><p>ç„¶ååˆ·æ–°X_D4A928_SSH_Session_Passwordçš„å€¼ï¼Œè¿™ä¸ªæ˜¯ä¸€æ¬¡æ€§çš„å¯†ç </p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">InternetGatewayDevice</span><span class="p">.</span><span class="nx">X_D4A928_SSH_Session_Password</span>
</span></span></code></pre></div><p>åˆ·æ–°ä¹‹åé€šè¿‡sshåœ¨22222ç«¯å£ç™»å½•ï¼Œåªèƒ½ç™»å½•ä¸€æ¬¡ï¼Œå¦‚æœå¤±è´¥å°±è¦å…³é—­SSHï¼ŒSSH_REMOTEè®¾ä¸ºSSH_OFFç„¶åé‡å¤ä¸Šé¢çš„ä¸¤éƒ¨æ“ä½œ</p>
<h3 id="å¼€å¯æ°¸ä¹…sshå¹¶ä¿®æ”¹é˜²ç«å¢™é…ç½®">å¼€å¯æ°¸ä¹…SSHå¹¶ä¿®æ”¹é˜²ç«å¢™é…ç½®</h3>
<p>G1100é»˜è®¤çš„SSHæœåŠ¡ç«¯å£æ˜¯22å’Œ8022ï¼Œé˜²ç«å¢™é»˜è®¤æ‹¦æˆªï¼Œä¸èƒ½ç›´æ¥è®¿é—®ï¼Œwebç•Œé¢ä¸Šé…ç½®SSHé˜²ç«å¢™çš„é€‰é¡¹ä¹Ÿè¢«å»é™¤äº†ï¼Œé€šè¿‡ä½¿ç”¨burpä¿®æ”¹æ•°æ®åŒ…å¯ä»¥å–æ¶ˆé˜²ç«å¢™æ‹¦æˆª
<img loading="lazy"  src="./burp.png"
        alt="burp"/>
G1100çš„SSHæœåŠ¡æ˜¯ç»è¿‡ä¿®æ”¹çš„ï¼Œå¼€æœºæ—¶é€šè¿‡/etc/ssh/sshd_config.tæ¨¡æ¿æ–‡ä»¶åœ¨/tmp/sshä¸‹ç”Ÿæˆé…ç½®æ–‡ä»¶
é»˜è®¤åªå…è®¸adminç™»å½•ï¼Œå¹¶chrootåˆ°/chrootç›®å½•
è¿™é‡Œä¿®æ”¹å…è®¸ä»»ä½•ç”¨æˆ·ç™»å½•ï¼Œå¹¶å–æ¶ˆchrootï¼Œé‡å¯å°±èƒ½è¿ä¸Š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Protocol <span class="m">2</span>
</span></span><span class="line"><span class="cl">PidFile /var/run/sshd.pid
</span></span><span class="line"><span class="cl">Subsystem       sftp    /libexec/sftp-server
</span></span><span class="line"><span class="cl">Port <span class="o">(</span>SSHD_PORT_1<span class="o">)</span>
</span></span><span class="line"><span class="cl">Port <span class="o">(</span>SSHD_PORT_2<span class="o">)</span>
</span></span><span class="line"><span class="cl">SyslogFacility local4
</span></span><span class="line"><span class="cl">PermitRootLogin yes
</span></span><span class="line"><span class="cl">PermitEmptyPasswords yes
</span></span><span class="line"><span class="cl">AllowUsers *
</span></span></code></pre></div><p><img loading="lazy"  src="./getshell.png"
        alt="burp"/></p>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<p><a href="https://github.com/The5heepDev/FIOS-G1100"target="_blank" rel="noopener noreferrer">FIOS-G1100 Github</a></p>
<p><a href="https://github.com/zaidka/genieacs/wiki/API-Reference"target="_blank" rel="noopener noreferrer">Genieacs API</a></p>
</article><section class="article labels"><a class="category" href=/zh/categories/%E7%A1%AC%E4%BB%B6%E5%AE%89%E5%85%A8/>ç¡¬ä»¶å®‰å…¨</a><a class="tag" href=/zh/tags/verizon/>Verizon</a><a class="tag" href=/zh/tags/fios/>FIOS</a><a class="tag" href=/zh/tags/genieacs/>Genieacs</a></section>
</div>

<div class="article bottom"><section class="article navigation"><p><a class="link" href="/zh/posts/find-origin-server-behind-cdn/"><span class="iconfont icon-article"></span>ç»•è¿‡CDNæ‰¾åˆ°æºç«™çš„æ€è·¯</a></p><p><a class="link" href="/zh/posts/hackrf-gps-spoofing/"><span class="iconfont icon-article"></span>HackRF GPS æ¬ºéª—ç¬”è®°</a></p></section></div></section><section id="footer"><div class="footer-wrap">
    <p class="copyright">2015 - 2026 Gorgias' Blog. </p><p class="license">
        <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener noreferrer">
            <img alt="CC BY-NC-SA" loading="lazy" src="/images/by-nc.svg" style="vertical-align: middle; height: 1.2em; margin: 0 0.2em;" />
            CC BY-NC-SA 4.0
        </a>
        (ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«).
    </p><p class="powerby"><span>Powered&nbsp;by&nbsp;</span><a href="https://gohugo.io" 
        target="_blank" rel="noopener noreferrer">Hugo</a><span>&nbsp;&amp;&nbsp;</span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank" rel="noopener noreferrer">Notepadium</a></p></div></section></body>

</html>