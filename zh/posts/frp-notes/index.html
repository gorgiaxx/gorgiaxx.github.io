<!DOCTYPE html>
<html lang="zh"><meta charset="utf-8"><meta name="generator" content="Hugo 0.154.5"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><meta name="description" content="
å‰è¨€
frpæ˜¯ä¸­å›½å¼€å‘è€…fatedierçš„ä½œå“ï¼Œå…ˆçœ‹ä»‹ç»"><title>FRPä½¿ç”¨ç¬”è®°&nbsp;&ndash;&nbsp;Gorgias&#39; Blog</title><link rel="stylesheet" href="/css/core.min.363cdd0e3e6340dd0e88b1f21887fb7e53e3129ed31d7f3cf62686d06069621ece79dc5ffb48a77ebba54468e667212f.css" integrity="sha384-NjzdDj5jQN0OiLHyGIf7flPjEp7THX889iaG0GBpYh7Oedxf&#43;0infrulRGjmZyEv"><meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="FRPä½¿ç”¨ç¬”è®°" /><body><section id="header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/zh/"><span class="site name">Gorgias' Blog</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="/zh/categories/">åˆ†ç±»</a><a class="nav item" href="/zh/tags/">æ ‡ç­¾</a><a class="nav item" href="/zh/about/">å…³äº</a><a class="nav item" href="/zh/links/">å‹é“¾</a><a class="nav item" href="/en/posts/frp-notes/" title="English">
            <span class="lang-icon">ğŸŒ</span>English</a></nav></div></span></div></section><section id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">FRPä½¿ç”¨ç¬”è®°</h1><p class="article date">2017-05-03<span class="langs"><span class="lang">
                    <a href="/en/posts/frp-notes/" title="English">
                        <span class="lang-icon">ğŸŒ</span>English</a>
                </span></span></p></section><article class="article markdown-body"><p><img loading="lazy"  src="./architecture.png"
        alt="flowchart"/></p>
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>frpæ˜¯ä¸­å›½å¼€å‘è€…<a href="http://blog.fatedier.com"target="_blank" rel="noopener noreferrer">fatedier</a>çš„ä½œå“ï¼Œå…ˆçœ‹ä»‹ç»</p>
<blockquote>
<p>frp æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œå¯ä»¥å¸®åŠ©æ‚¨è½»æ¾åœ°è¿›è¡Œå†…ç½‘ç©¿é€ï¼Œå¯¹å¤–ç½‘æä¾›æœåŠ¡ï¼Œæ”¯æŒ tcp, udp, http, https ç­‰åè®®ç±»å‹ï¼Œå¹¶ä¸” web æœåŠ¡æ”¯æŒæ ¹æ®åŸŸåè¿›è¡Œè·¯ç”±è½¬å‘ã€‚</p>
</blockquote>
<p>ä¹‹å‰ä¸€ç›´åœ¨è·¯ç”±å™¨ä¸Šä½¿ç”¨ngrokï¼Œæ‰€ä»¥å¯¹frpä¸€æ— æ‰€çŸ¥ã€‚åšæ¸—é€æµ‹è¯•ï¼Œéœ€è¦NATç©¿é€ï¼Œæ‰€ä»¥ä¸€ç›´åœ¨æ‰¾å¥½ç”¨çš„å·¥å…·ï¼Œç£¨åˆ€ä¸è¯¯ç æŸ´å·¥ã€‚
å°è¯•ä¹‹åå‘ç°ï¼Œfrpç”¨æ³•å’Œngrokç›¸ä¼¼ï¼Œä½†æ˜¯frpæ¯”ngrokæ›´åŠ ä¼˜ç§€ã€‚
é…ç½®è¿‡ç¨‹å¾ˆç®€å•ï¼Œä½†æ˜¯ä¹Ÿé‡åˆ°ä¸€äº›é—®é¢˜ï¼Œæ‰€ä»¥æŠŠè¿‡ç¨‹è®°å½•ä¸‹æ¥ã€‚</p>
<h2 id="å®‰è£…">å®‰è£…</h2>
<p>ä¸‹è½½æºç ç¼–è¯‘ï¼Œè¿™ä¸ªç¼–è¯‘å°±ä¸æ˜¯å¾ˆè‡ªç”±ï¼Œéœ€è¦æŒ‡å®š$GOPATHã€‚ubuntuä¸‹æ²¡æœ‰æŒ‡å®š$GOPATHï¼Œç›´æ¥å°±ä¸‹è½½åˆ°/src/xxxxäº†ï¼Œç„¶åä¹Ÿç¼–è¯‘å¤±è´¥ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">GOPATH</span><span class="o">=</span><span class="nv">$HOME</span>/go
</span></span><span class="line"><span class="cl"><span class="nv">$GOPATH</span>/src/github.com/fatedier/frp
</span></span></code></pre></div><p>ä¸‹è½½æºç </p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">go get github.com/fatedier/frp
</span></span><span class="line"><span class="cl"><span class="c1"># æˆ–è€…æ‰§è¡Œ</span>
</span></span><span class="line"><span class="cl">git clone https://github.com/fatedier/frp.git <span class="nv">$GOPATH</span>/src/github.com/fatedier/frp
</span></span></code></pre></div><p>ç¼–è¯‘</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> <span class="nv">$GOPATH</span>/src/github.com/fatedier/frp
</span></span><span class="line"><span class="cl">make
</span></span></code></pre></div><p>å®‰è£…</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># server</span>
</span></span><span class="line"><span class="cl">cp ./bin/frps /usr/bin/frps
</span></span><span class="line"><span class="cl">cp ./conf/frps.ini /etc/frps.ini
</span></span><span class="line"><span class="cl"><span class="c1"># client</span>
</span></span><span class="line"><span class="cl">cp ./bin/frps /usr/bin/frpc
</span></span><span class="line"><span class="cl">sudo cp ./conf/frpc.ini /etc/frpc.ini
</span></span></code></pre></div><h2 id="é…ç½®">é…ç½®</h2>
<p>é»˜è®¤ä½¿ç”¨é…ç½®æ–‡ä»¶</p>
<h3 id="server">Server</h3>
<p>ç›´æ¥çœ‹å¸®åŠ©ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@gorgiaxx:~# frps -h
</span></span><span class="line"><span class="cl">frps is the server of frp
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Usage:
</span></span><span class="line"><span class="cl">    frps <span class="o">[</span>-c config_file<span class="o">]</span> <span class="o">[</span>-L log_file<span class="o">]</span> <span class="o">[</span>--log-level<span class="o">=</span>&lt;log_level&gt;<span class="o">]</span> <span class="o">[</span>--addr<span class="o">=</span>&lt;bind_addr&gt;<span class="o">]</span>
</span></span><span class="line"><span class="cl">    frps <span class="o">[</span>-c config_file<span class="o">]</span> --reload
</span></span><span class="line"><span class="cl">    frps -h <span class="p">|</span> --help
</span></span><span class="line"><span class="cl">    frps -v <span class="p">|</span> --version
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Options:
</span></span><span class="line"><span class="cl">    -c config_file            <span class="nb">set</span> config file
</span></span><span class="line"><span class="cl">    -L log_file               <span class="nb">set</span> output log file, including console
</span></span><span class="line"><span class="cl">    --log-level<span class="o">=</span>&lt;log_level&gt;   <span class="nb">set</span> log level: debug, info, warn, error
</span></span><span class="line"><span class="cl">    --addr<span class="o">=</span>&lt;bind_addr&gt;        listen addr <span class="k">for</span> client, example: 0.0.0.0:7000
</span></span><span class="line"><span class="cl">    --reload                  reload ini file and configures in common section won<span class="err">&#39;</span>t be changed
</span></span><span class="line"><span class="cl">    -h --help                 show this screen
</span></span><span class="line"><span class="cl">    -v --version              show version
</span></span></code></pre></div><p>æ”¯æŒè¯»å–é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥çœ‹é…ç½®æ–‡ä»¶ã€‚ä½œè€…ç»™å‡ºçš„é…ç½®æ–‡ä»¶ç¤ºä¾‹å·²ç»å†™çš„å¾ˆè¯¦ç»†äº†ã€‚æ‰€ä»¥é…ç½®èµ·æ¥éå¸¸æ–¹ä¾¿</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">vim /etc/frps.ini
</span></span></code></pre></div><p>è´´å‡ºæˆ‘çš„é…ç½®æ–‡ä»¶</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>common<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># æ”¯æŒIPv6ï¼Œä½†æ˜¯å¤§é™†ç½‘ç»œæƒ…å†µä¸‹å‡ ä¹ä¸æ”¯æŒã€‚è¿™é‡Œå¡«æˆ‘ä»¬çš„IPv4åœ°å€ï¼Œéš§é“ç«¯å£7000</span>
</span></span><span class="line"><span class="cl"><span class="nv">bind_addr</span> <span class="o">=</span> 45.32.42.185
</span></span><span class="line"><span class="cl"><span class="nv">bind_port</span> <span class="o">=</span> <span class="m">7000</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># è¿™ä¸ªå°±æ˜¯httpä»£ç†çš„ç«¯å£ï¼Œä¸è¦å’Œnginxå†²çªï¼Œå¦åˆ™ç›´æ¥é—ªé€€ã€‚</span>
</span></span><span class="line"><span class="cl"><span class="nv">vhost_http_port</span> <span class="o">=</span> <span class="m">8000</span>
</span></span><span class="line"><span class="cl"><span class="nv">vhost_https_port</span> <span class="o">=</span> <span class="m">8443</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æ§åˆ¶é¢æ¿çš„è®¿é—®ç«¯å£ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°éš§é“çš„ä½¿ç”¨æƒ…å†µ</span>
</span></span><span class="line"><span class="cl"><span class="nv">dashboard_port</span> <span class="o">=</span> <span class="m">7500</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æ§åˆ¶é¢æ¿è®¿é—®æ§åˆ¶ï¼Œè¯·ä¿®æ”¹é»˜è®¤å¯†ç </span>
</span></span><span class="line"><span class="cl"><span class="nv">dashboard_user</span> <span class="o">=</span> your_name
</span></span><span class="line"><span class="cl"><span class="nv">dashboard_pwd</span> <span class="o">=</span> your_password
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æ—¥å¿—è®°å½•è·¯å¾„ï¼Œæ§åˆ¶é¢æ¿ä¹Ÿèƒ½è®¿é—®</span>
</span></span><span class="line"><span class="cl"><span class="nv">log_file</span> <span class="o">=</span> /var/log/frps.log
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æ—¥å¿—çº§åˆ«ï¼Œå¯é€‰debug, info, warn, errorã€‚è¿™é‡Œåªéœ€è¦warnï¼Œå…å¾—å ç©ºé—´ã€‚</span>
</span></span><span class="line"><span class="cl"><span class="nv">log_level</span> <span class="o">=</span> warn
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æ—¥å¿—è®°å½•æ—¶é—´ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯æ”¯æŒè‡ªåŠ¨æ¸…ç†ï¼Œè®°å½•ä¸‹warnæ—¥å¿—å°±å¤Ÿäº†ï¼Œä¹Ÿä¸éœ€è¦æ¸…ç†ã€‚æˆ‘è§‰å¾—æ²¡å¿…è¦è®°å½•warnä»¥ä¸‹çš„ä¿¡æ¯ï¼Œå°±ä¸ç®¡äº†</span>
</span></span><span class="line"><span class="cl"><span class="nv">log_max_days</span> <span class="o">=</span> <span class="m">3</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ç‰¹æƒæ¨¡å¼ï¼Œå¼€å¯ä¹‹åï¼Œæ”¯æŒå®¢æˆ·ç«¯é¢„é…ç½®ï¼Œä¹Ÿå°±æ˜¯ä¸ç”¨åœ¨æœåŠ¡ç«¯å•ç‹¬é…ç½®æœåŠ¡ï¼Œä¸ºäº†ç¤ºèŒƒï¼Œæˆ‘è¿˜æ˜¯ä¸‹é¢åŠ ä¸€ç‚¹æœåŠ¡ç«¯é¢„é…ç½®å‚æ•°</span>
</span></span><span class="line"><span class="cl"><span class="nv">privilege_mode</span> <span class="o">=</span> <span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">privilege_token</span> <span class="o">=</span> your_privilege_token
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># å¿ƒè·³åŒ…é…ç½®ï¼Œé»˜è®¤30ç§’ï¼Œè¶…æ—¶åº”è¯¥å°±æ–­å¼€è¿æ¥äº†</span>
</span></span><span class="line"><span class="cl"><span class="nv">heartbeat_timeout</span> <span class="o">=</span> <span class="m">30</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># è®¾å®šç«¯å£èŒƒå›´ï¼Œç‰¹æƒæ¨¡å¼ä¸‹ç«¯å£æ˜¯å®¢æˆ·ç«¯å†³å®šçš„ï¼Œæ‰€ä»¥è¦åœ¨æœåŠ¡ç«¯åšå¥½é™åˆ¶ï¼Œä»¥å…å½±å“æ­£å¸¸æœåŠ¡</span>
</span></span><span class="line"><span class="cl"><span class="nv">privilege_allow_ports</span> <span class="o">=</span> 2000-3000,3001,3003,4000-50000
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æœ€å¤§è¿æ¥æ•°</span>
</span></span><span class="line"><span class="cl"><span class="nv">max_pool_count</span> <span class="o">=</span> <span class="m">100</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># è®¤è¯è¶…æ—¶</span>
</span></span><span class="line"><span class="cl"><span class="nv">authentication_timeout</span> <span class="o">=</span> <span class="m">60</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># å­åŸŸåçš„æ ¹åŸŸåï¼Œå°±è¿™æ ·ç¿»è¯‘å§</span>
</span></span><span class="line"><span class="cl"><span class="nv">subdomain_host</span> <span class="o">=</span> gorgiaxx.me
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># è¿™ä¸ªç”¨ä½œmetasploitçš„reverse_tcpç©¿é€ï¼Œé…å¥½tokenå°±å¥½</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>rev<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">type</span> <span class="o">=</span> tcp
</span></span><span class="line"><span class="cl"><span class="nv">auth_token</span> <span class="o">=</span> gorgiaxx
</span></span><span class="line"><span class="cl"><span class="nv">bind_addr</span> <span class="o">=</span> 0.0.0.0
</span></span><span class="line"><span class="cl"><span class="c1"># ï¼ï¼ï¼æ³¨æ„ï¼Œè¿™é‡Œä¸€å®šè¦çœ‹æœåŠ¡å•†æ˜¯å¦æŠŠç«¯å£è¿‡æ»¤äº†ã€‚vultræŠŠ4444ç«¯å£è¿‡æ»¤äº†å®³æˆ‘æŠ˜è…¾åŠå¤©ã€‚</span>
</span></span><span class="line"><span class="cl"><span class="nv">listen_port</span> <span class="o">=</span> <span class="m">4444</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># è¿™ä¸ªæ¥ä»£ç†webæœåŠ¡ï¼Œç”¨æ¥ä¼ è¾“payload</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>web<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># å¦‚æœè¦ç”¨httpä»£ç†ï¼Œå¿…é¡»è‡³å°‘åœ¨å‰é¢è®¾å®švhost_http_portè¿™ä¸ªå‚æ•°ã€‚</span>
</span></span><span class="line"><span class="cl"><span class="nb">type</span> <span class="o">=</span> http
</span></span><span class="line"><span class="cl"><span class="nv">auth_token</span> <span class="o">=</span> gorgiaxx
</span></span><span class="line"><span class="cl"><span class="c1"># å­åŸŸåï¼Œæœ€åçš„è®¿é—®åŸŸåå°±æ˜¯frp.gorgiaxx.me</span>
</span></span><span class="line"><span class="cl"><span class="nv">subdomain</span> <span class="o">=</span> frp
</span></span></code></pre></div><h3 id="client">Client</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ï½$ frpc -h
</span></span><span class="line"><span class="cl">frpc is the client of frp
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Usage:
</span></span><span class="line"><span class="cl">    frpc <span class="o">[</span>-c config_file<span class="o">]</span> <span class="o">[</span>-L log_file<span class="o">]</span> <span class="o">[</span>--log-level<span class="o">=</span>&lt;log_level&gt;<span class="o">]</span> <span class="o">[</span>--server-addr<span class="o">=</span>&lt;server_addr&gt;<span class="o">]</span>
</span></span><span class="line"><span class="cl">    frpc -h <span class="p">|</span> --help
</span></span><span class="line"><span class="cl">    frpc -v <span class="p">|</span> --version
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Options:
</span></span><span class="line"><span class="cl">    -c config_file              <span class="nb">set</span> config file
</span></span><span class="line"><span class="cl">    -L log_file                 <span class="nb">set</span> output log file, including console
</span></span><span class="line"><span class="cl">    --log-level<span class="o">=</span>&lt;log_level&gt;     <span class="nb">set</span> log level: debug, info, warn, error
</span></span><span class="line"><span class="cl">    --server-addr<span class="o">=</span>&lt;server_addr&gt; addr which frps is listening <span class="k">for</span>, example: 0.0.0.0:7000
</span></span><span class="line"><span class="cl">    -h --help                   show this screen
</span></span><span class="line"><span class="cl">    --version                   show version
</span></span></code></pre></div><p>é…ç½®æ–‡ä»¶</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>common<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># æœåŠ¡å™¨ç«¯å£å’Œåœ°å€</span>
</span></span><span class="line"><span class="cl"><span class="nv">server_addr</span> <span class="o">=</span> 45.32.42.185
</span></span><span class="line"><span class="cl"><span class="nv">server_port</span> <span class="o">=</span> <span class="m">7000</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># é€šè¿‡httpä»£ç†è®¿é—®ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç”¨ä¸åˆ°</span>
</span></span><span class="line"><span class="cl"><span class="c1"># http_proxy = http://user:pwd@192.168.1.128:8080</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æ—¥å¿—è·¯å¾„ï¼Œå®¢æˆ·ç«¯è®¿é—®è¿™ä¸ªè¦rootæƒé™ï¼Œåé¢åŠ sudoè¿è¡Œå§ã€‚</span>
</span></span><span class="line"><span class="cl"><span class="nv">log_file</span> <span class="o">=</span> /var/log/frpc.log
</span></span><span class="line"><span class="cl"><span class="nv">log_level</span> <span class="o">=</span> warn
</span></span><span class="line"><span class="cl"><span class="nv">log_max_days</span> <span class="o">=</span> <span class="m">3</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æœåŠ¡æŒ‡å®šç»™ç”¨æˆ·çš„token</span>
</span></span><span class="line"><span class="cl"><span class="nv">auth_token</span> <span class="o">=</span> gorgiaxx
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ç‰¹æƒçš„token</span>
</span></span><span class="line"><span class="cl"><span class="nv">privilege_token</span> <span class="o">=</span> your_token
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>rev<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># tcp | http, default is tcp</span>
</span></span><span class="line"><span class="cl"><span class="nb">type</span> <span class="o">=</span> tcp
</span></span><span class="line"><span class="cl"><span class="nv">local_ip</span> <span class="o">=</span> 127.0.0.1
</span></span><span class="line"><span class="cl"><span class="nv">local_port</span> <span class="o">=</span> <span class="m">4444</span>
</span></span><span class="line"><span class="cl"><span class="c1"># åŠ å¯†é€šä¿¡ï¼Œæš‚æ—¶ä¸éœ€è¦</span>
</span></span><span class="line"><span class="cl"><span class="nv">use_encryption</span> <span class="o">=</span> <span class="nb">false</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ä¸æ˜¯httpçš„æƒ…å†µä¸‹ï¼Œgzipå‹ç¼©ä¹Ÿä¸è¦</span>
</span></span><span class="line"><span class="cl"><span class="nv">use_gzip</span> <span class="o">=</span> <span class="nb">false</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>pre_rev<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># é¢„é…ç½®</span>
</span></span><span class="line"><span class="cl"><span class="nv">privilege_mode</span> <span class="o">=</span> <span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nb">type</span> <span class="o">=</span> tcp
</span></span><span class="line"><span class="cl"><span class="nv">local_ip</span> <span class="o">=</span> 0.0.0.0
</span></span><span class="line"><span class="cl"><span class="nv">local_port</span> <span class="o">=</span> <span class="m">5555</span>
</span></span><span class="line"><span class="cl"><span class="c1"># è¿œç¨‹ç«¯å£</span>
</span></span><span class="line"><span class="cl"><span class="nv">remote_port</span> <span class="o">=</span> <span class="m">5555</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>web<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">type</span> <span class="o">=</span> http
</span></span><span class="line"><span class="cl"><span class="nv">local_ip</span> <span class="o">=</span> 127.0.0.1
</span></span><span class="line"><span class="cl"><span class="nv">local_port</span> <span class="o">=</span> <span class="m">8080</span>
</span></span><span class="line"><span class="cl"><span class="nv">use_gzip</span> <span class="o">=</span> <span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">pool_count</span> <span class="o">=</span> <span class="m">20</span>
</span></span><span class="line"><span class="cl"><span class="c1"># å¯ä»¥è®¾å®šè®¿é—®æ§åˆ¶</span>
</span></span><span class="line"><span class="cl"><span class="c1"># http_user = admin</span>
</span></span><span class="line"><span class="cl"><span class="c1"># http_pwd = admin</span>
</span></span><span class="line"><span class="cl"><span class="c1"># å­åŸŸåï¼Œæœ€åå°±æ˜¯frp.gorgiaxx.me</span>
</span></span><span class="line"><span class="cl"><span class="nv">subdomain</span> <span class="o">=</span> frp
</span></span></code></pre></div><h2 id="å¯åŠ¨">å¯åŠ¨</h2>
<p>frpæƒé™æ§åˆ¶åšçš„æ¯”è¾ƒå¥½ï¼Œä¸æ€•ç«¯å£æš´éœ²åœ¨å…¬ç½‘ã€‚æ‰€ä»¥å¯ä»¥æ”¾å¿ƒå¸¸é©»åå°</p>
<h3 id="æœåŠ¡ç«¯">æœåŠ¡ç«¯</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nohup frps -c /etc/frps.ini <span class="p">&amp;</span>
</span></span></code></pre></div><h3 id="å®¢æˆ·ç«¯">å®¢æˆ·ç«¯</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nohup frps -c /etc/frps.ini <span class="p">&amp;</span>
</span></span></code></pre></div><h3 id="dashboard">Dashboard</h3>
<p>ç›´æ¥æµè§ˆå™¨è®¿é—®</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">http://gorgiaxx.me:7500/
</span></span></code></pre></div><p>è¾“å…¥ç”¨æˆ·åå¯†ç å°±èƒ½çœ‹åˆ°é¢æ¿äº†</p>
<p><img loading="lazy"  src="./usage_statistics.png"
        alt="dashboard"/></p>
<h2 id="reference">Reference</h2>
<p><a href="https://github.com/fatedier/frp"target="_blank" rel="noopener noreferrer">fatedier/frp</a></p>
</article><section class="article labels"><a class="category" href=/zh/categories/%E5%B7%A5%E5%85%B7/>å·¥å…·</a><a class="tag" href=/zh/tags/frp/>frp</a><a class="tag" href=/zh/tags/nat/>NAT</a><a class="tag" href=/zh/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/>å†…ç½‘ç©¿é€</a></section>
</div>
<div class="article bottom"><section class="article navigation"><p><a class="link" href="/zh/posts/exploiting-cve-2017-0199/"><span class="iconfont icon-article"></span>OFFICE OLE2LINK æ¼æ´ (CVE-2017-0199) åˆ©ç”¨</a></p><p><a class="link" href="/zh/posts/ngrok-notes/"><span class="iconfont icon-article"></span>Ngrokä½¿ç”¨ç¬”è®°</a></p></section></div></section><section id="footer"><div class="footer-wrap">
    <p class="copyright">2015 - 2026 Gorgias' Blog. </p><p class="license">
        <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener noreferrer">
            <img alt="CC BY-NC-SA" loading="lazy" src="/images/by-nc.svg" style="vertical-align: middle; height: 1.2em; margin: 0 0.2em;" />
            CC BY-NC-SA 4.0
        </a>
        (ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«).
    </p><p class="powerby"><span>Powered&nbsp;by&nbsp;</span><a href="https://gohugo.io" 
        target="_blank" rel="noopener noreferrer">Hugo</a><span>&nbsp;&amp;&nbsp;</span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank" rel="noopener noreferrer">Notepadium</a></p></div></section></body>

</html>